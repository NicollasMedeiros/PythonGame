{% extends "base.html" %}

{% block title %}CaÃ§a-NÃ­quel{% endblock %}

{% block content %}
<link rel="stylesheet" href="/static/style.css">
    <h2>CaÃ§a-NÃ­quel Simples</h2>
    
    <p>Seu Saldo Atual: <strong>R$ {{ current_user.saldo|round(2) }}</strong></p>
    
    <hr>

    <h3>Tabela de Pagamento</h3>
    <p>ğŸ’ğŸ’ğŸ’ = 10x | ğŸ’ğŸ’ğŸ’ = 5x | ğŸ‹ğŸ‹ğŸ‹ = 3x</p>
    
    <div style="font-size: 4em; padding: 20px; border: 2px solid #ccc; margin-bottom: 20px; background-color: #f9f9f9;">
        {% if resultado_jogo %}
            {% for simbolo in resultado_jogo.simbolos %}
                <span style="margin: 0 10px;">{{ simbolo }}</span>
            {% endfor %}
        {% else %}
            <span>?</span>
            <span>?</span>
            <span>?</span>
        {% endif %}
    </div>
    
    <form method="POST" action="{{ url_for('slot_machine') }}">
        
        <div>
            <label for="aposta">Valor da Aposta (R$):</label>
            <input type="number" step="0.01" min="0.01" id="aposta" name="aposta" required>
        </div>
        
        <button type="submit" style="font-size: 1.2em; padding: 10px 20px; margin-top: 15px;">GIRAR</button>
    </form>
    
    <hr>

    {% if resultado_jogo %}
        <h3>Resultado:</h3>
        
        {% if resultado_jogo.vitoria %}
            <p style="color: green; font-weight: bold; font-size: 1.2em;">VocÃª ganhou R$ {{ resultado_jogo.ganho_liquido|round(2) }}!</p>
        {% else %}
            <p style="color: red; font-weight: bold; font-size: 1.2em;">VocÃª perdeu R$ {{ resultado_jogo.aposta|round(2) }}.</p>
        {% endif %}
        
        <p>Seu novo saldo Ã© R$ {{ current_user.saldo|round(2) }}.</p>
    {% endif %}

{% endblock %}